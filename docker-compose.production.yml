# Override cho deploy production trên VM 4GB RAM, 2 CPU.
# Chạy: docker compose -f docker-compose.yml -f docker-compose.production.yml up -d --build
services:
  qdrant:
    deploy:
      resources:
        limits:
          memory: 1536M
          cpus: "1"
        reservations:
          memory: 512M

  log-consumer:
    deploy:
      resources:
        limits:
          memory: 512M
          cpus: "0.5"
        reservations:
          memory: 128M

  triage-app:
    deploy:
      resources:
        limits:
          memory: 1024M
          cpus: "1"
        reservations:
          memory: 256M
